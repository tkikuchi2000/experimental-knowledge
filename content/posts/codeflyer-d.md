---
title: "Codeflyer D"
date: 2018-06-03T08:59:42+09:00
draft: true
description: "D - ハンコ"
featured_image: "/images/logo_account_h.png"
tags: [AtCoder]
toc: true
---

[codeflyer](https://bitflyer2018-qual.contest.atcoder.jp/)

# D - ハンコ

時間制限 : 2sec / メモリ制限 : 256MB

配点 : 500 点

## 問題文

H 行 W 列のマス目が書かれた紙があります。 このマス目の上から i 行目、左から j 列目のマス (1≤i≤H, 1≤j≤W) をマス (i,j) と書きます。

このマス目の N 行 M 列ぶんと同じ大きさのハンコがあります。 このハンコの印影は N 個の長さ M の文字列 A1,A2,…,AN によって表されます。 ハンコの左上をマス (s,t) (1≤s≤H−N+1, 1≤t≤W−M+1) の左上に 合わせてハンコを押すと、ハンコに覆われた各マス (u,v) (s≤u≤s+N−1, t≤v≤t+M−1) の色は以下のように変化します。

文字列 Ai の j 文字目が # であるとき、マス (s+i−1,t+j−1) の色は黒に変化する。

文字列 Ai の j 文字目が . であるとき、マス (s+i−1,t+j−1) の色は変化しない。
はじめ、すべてのマスの色は白色です。 1≤s≤H−N+1, 1≤t≤W−M+1 を満たす各 s,t について、 ハンコの左上をマス (s,t) の左上に合わせてハンコを押しました。

色が黒に変化したマスの個数を求めてください。

## 制約

- 1≤H,W≤109
- 1≤N,M≤1000
- N≤H
- M≤W
- |Ai|=M (1≤i≤N)

各 i について、Ai の各文字は # と . のいずれかである

## 入力

入力は以下の形式で標準入力から与えられる。

```
H W
N M
A1
A2
:
AN
```

## 出力

答えを出力せよ。

---

### 入力例 1

```
3 4
2 3
..#
##.
```

### 出力例 1

```
9
```

ハンコの左上をマス (1,1), (1,2), (2,1), (2,2) の 4 箇所に合わせて押すことになります。 ハンコをこの順に押していった場合、各マスの色は下の図のように変化します。

すべての位置にハンコを押し終わったとき、色が黒に変化しているマスは 9 個あります。

{{< figure src="/images/abdf492090c7f44749c1243f34bae924.png" title="" >}}

---

### 入力例 2

```
5 5
4 4
####
#..#
#..#
####
```

### 出力例 2

```
24
```

真ん中以外のマスが黒くなります。

---

### 入力例 3

```
10 12
1 1
.
```

### 出力例 3

```
0
```

---

### 入力例 4

```
20 20
5 5
##.##
.##.#
..##.
...##
....#
```

### 出力例 4

```
390
```

---

### 入力例 5

```
1000000000 1000000000
5 4
.#..
....
..#.
.#..
....
```

### 出力例 5

```
999999996999999999
```
